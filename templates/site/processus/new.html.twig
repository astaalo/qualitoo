{% extends 'configuration/index.html.twig' %}
{% form_theme form 'extra/simple_form_theme.html.twig' %}

{% block menu_config %}{% include 'configuration/configuration.html.twig' %}{% endblock %}

{% block header_config %}
<div class="header">
	<span>
		<span class="ico color add"></span>ajout d'un processus
	</span>
	<div id="buttom_top">
		<ul class="uibutton-group">
			<li><a class="uibutton icon answer" href="{{ path('les_processus') }}">Liste des processus</a></li>
        </ul>
    </div>
</div>
{% endblock %}

{% block content_config %}
<div class="contentForm">
	<form  novalidate="novalidate"  action="{{ (id is empty) ? path('creer_processus') : path('ajouter_processus', {id: id}) }}" method="POST">
		{{ form_row(form.libelle, {attr: {class: 'full'}}) }}
		{{ form_row(form.parent, {attr: (id is empty) ? {} : {disabled: 'true'}} ) }}
		{{ form_row(form.typeProcessus) }}
		{{ form_row(form.structure) }}
		{{ form_row(form.description, {attr: {class: 'full'}})  }}
		{{ form_row(form._token) }}
		<div class="section last footer">
			<div>
				<button class="uibutton loading">Enregistrer</button>
				<input type="reset"  class="uibutton special" value="Effacer" >
			</div>
		</div>
	</form>
</div>


	<script>
		$('#{{ form.parent.vars.id }}').prepend("<option value>Choisir un parent ...</option>");
		{% if form.parent.vars.value is empty %}
		$('#{{ form.parent.vars.id }}').val(''); // if you want it to be automatically selected
		{% endif %}
	</script>
{% endblock %}
